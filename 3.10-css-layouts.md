<!-- Student takeaway: -->
<!-- At the end of the lesson, the student will:
- Be able to explain the box model
- Know which snippet solves the box-model problem (box-sizing: border-box)
- Know about `float`
- Know which snippet solves the parent collapse issue created by floating (clearfix / group:after)
- Know which snippet normalizes browser defaults
 -->
# CSS Layout

What makes a site easy to use? How should our content sit on the page? What happens when the viewport changes? These are questions you should ask yourself when you're thinking about your site's layout.

## Identifying structure

Every element in HTML exists as a box. Elements have dimensions (e.g. width and height) and can contain content or other elements.

We've already looked grouping content using the `<div>` tag and/or semantic elements and we don't just group content for readability in the HTML: we also group content in anticipation of the styling we'll apply to it.

In HTML, almost all structural elements take up 100% of the width of the browser.  These elements are known as _block elements_. All elements render in the browser in the order they appear in the HTML markup; kind of the way a word processor works.

Check out [this CodePen](https://codepen.io/hackeryou/pen/yQeXQO) for a quick visual refresher on block elements, or copy-paste the following code into a file of your own:

```css
section{
  background-color:aqua;
  height: 100px;
}
aside{
  background-color: lavender;
  height: 50px;
}
```

```html
<div class="container">
  <section>
    <h2>This is a section</h2>
  </section>
  <aside>
    <h3>This is an aside</h3>
  </aside>
</div>
```

## Adding dimensions

Every website you've ever seen isn't just stuff stacked up in the browser. There are articles next to sidebars, footers that span a whole page, and masonry layouts. Lists, especially navigations, can run inline rather than stack up.

It makes sense to assume that since all block elements default to a width of 100% of the browser window, changing the elements' width to 50% should allow two elements to sit next to each other.

```css
section{
  background-color:aqua;
  height: 100px;
  width:50%;
}
aside{
  background-color: lavender;
  height: 50px;
  width:50%;
}
```

```html
<div class="container">
  <section>
    <h2>This is a section</h2>
  </section>
  <aside>
    <h3>This is an aside</h3>
  </aside>
</div>
```

![diagram showing how block elements are expected sit on a line together at 50% width each](https://hychalknotes.s3.amazonaws.com/expected-block-behavior.png)

This is one of the weird things about HTML/CSS layout. Block elements **always** always take up a 100% of the browser window regardless of their declared/rendered width. Weeeeeiiiiirrrddddddd!

## The 'float' property

The early developers of HTML and CSS did not plan for the kind of web page layouts we're used to, but they **did** plan for text to wrap around images, like it does in books and magazines. The `float` property is can be applied to images to define how the following elements will wrap around it, if there's space for them to do so.

Check out [this CodePen](https://codepen.io/hackeryou/pen/qQbXez) to see the paragraph text wrapping around the image, or copy-paste the following code into a file of your own:

```css
  img{
    float:left;
  }
```
```html
<img src="http://unsplash.it/200/200" alt="image from unsplash">
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nobis qui veritatis saepe cum corrupti ex quibusdam, magni quas autem, deserunt sint alias. At et, sed veniam, beatae porro animi qui.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nobis qui veritatis saepe cum corrupti ex quibusdam, magni quas autem, deserunt sint alias. At et, sed veniam, beatae porro animi qui.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nobis qui veritatis saepe cum corrupti ex quibusdam, magni quas autem, deserunt sint alias. At et, sed veniam, beatae porro animi qui.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nobis qui veritatis saepe cum corrupti ex quibusdam, magni quas autem, deserunt sint alias. At et, sed veniam, beatae porro animi qui.</p>
```

Change the value for `float` to `right`, then to `none`, then back to `left` to see how the image moves within its parent and how the rest of the content wraps around it.

### Exercise: Floating images
Open up <a href="https://hychalknotes.s3.amazonaws.com/image-float.html" class="exercise" download>image-float.html</a> in your text editor and the browser. If you get stuck, <a href="https://hychalknotes.s3.amazonaws.com/image-floatANSWER.html" class="exercise" download>check out the answer here</a>.

## Using floats for layout

We can use floats to help layout our structural elements, not just our images. Because elements like `section` and `main` group our content, we can use dimensions to lay it all out.

If we think of each row/line as 100%, we need to ensure that the sum of all the elements' dimensions in any given row are equal to or less than 100%. Anything that doesn't fit into that space gets moved to the next line.

All structural elements are block elements, which means they're how wide by default?
<!-- They take up 100% of the width of the browser window -->
> 100% of the width of the browser window!

Go back to [this CodePen](https://codepen.io/hackeryou/pen/yQeXQO) and add `float: left;` to the block elements, like so:

```css
section{
  background-color:aqua;
  height: 100px;
  width:50%;
  float:left;
}
aside{
  background-color: lavender;
  height: 50px;
  width:50%;
  float:left;
}
```

```html
<div class="container">
  <section>
    <h2>This is a section</h2>
  </section>
  <aside>
    <h3>This is an aside</h3>
  </aside>
</div>
```
Remove the `width:50%;` on both elements. What happens?

You'll see that when you apply a `float` to an element, that element's width becomes the size of its contents unless otherwise specified.

## Floated elements' stacking order

When elements are floated, their stacking order will also change. When you float an element, it lifts and essentially sits above their surrounding element. The floated element will also lose its imprint and no longer take up the space it used to. Often, you will find the surrounding elements accommodating for the missing imprint and reposition themselves underneath the floated element. <a href="https://www.youtube.com/watch?v=xara4Z1b18I" target="_blank">Here is a great video that explains how floating elements affect their stacking order</a>.

<iframe height='427' scrolling='no' title='Stacking order animation;' src='//codepen.io/jenobot/embed/QOzyeP/?height=427&theme-id=0&default-tab=result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/jenobot/pen/QOzyeP/'>Stacking order animation;</a> by Jenny (<a href='https://codepen.io/jenobot'>@jenobot</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>

## Calculating Dimensions

Before we move on, we need to understand how we use margin, padding and borders in layouts. A brief review of those properties.

#### Margin
Margin is used to push elements away from each other. We can use it to separate elements that are too close.

```html
<div class="square"></div>
<div class="square"></div>
```

```css
.square {
    background: forestgreen;
    margin: 25px;
    width: 200px;
    height: 200px;
}
```

<div class="square"></div>
<div class="square"></div>

<style>
    .square {
        background: forestgreen;
        margin: 25px;
        width: 200px;
        height: 200px;
    }
</style>

#### Padding
Padding is used to push content away from the inside walls of an element.

```html
<div class="square">Hello!</div>
<div class="square">Hello!</div>
```

```css
.square {
    background: forestgreen;
    padding: 25px;
    margin: 25px;
    width: 200px;
    height: 200px;
}
```

<div class="square2">Hello!</div>
<div class="square2">Hello!</div>

<style>
    .square2 {
        box-sizing: content-box;
        background: forestgreen;
        padding: 25px;
        margin: 25px;
        width: 200px;
        height: 200px;
    }
</style>

### Border
Borders can be used create a surrounding border for stylistic purposes.

```html
<div class="square">Hello!</div>
<div class="square">Hello!</div>
```

```css
.square {
    background: forestgreen;
    padding: 25px;
    margin: 25px;
    width: 200px;
    height: 200px;
    border: 25px solid black;
}
```

<style>
    .square3 {
        box-sizing: content-box;
        background: forestgreen;
        padding: 25px;
        margin: 25px;
        width: 200px;
        height: 200px;
        border: 25px solid black;
    }
</style>

<div class="square3">Hello!</div>
<div class="square3">Hello!</div>



#### The dimensions are changing...
Notice how we started with a 200px by 200px element and added margin? When we added padding the element grew in size. When we added border, the element grew more.

This is what is known as the box-model and it's important to recognize that items change in size based on the properties that we give them. If we are working with these properties when doing layout, we need to account for them.

With all the properties applied, the final size of the element is actually 300px by 300px.

#### The Math

`padding: 25px;` means 25px of padding on all four sides. Therefore we can add 50px to the overall height and 50px to the overall width. 

`border: 25px solid black;` has the same effect to the sides. We need to add 50px to the overall height and 50px to the overall width.

**Width: 200px + 50px + 50px = 300px**

**Height: 200px + 50px + 50px = 300px**

The 25px of margin that we added, doesn't affect it's size, but it's footprint. It won't simply take up 300px of width in the row, add to that another 25px of margin on the left and right.

If we are using floats with these widths, we will have problems with having the items fit beside each other.

Download and open up <a href="https://hychalknotes.s3.amazonaws.com/box-model-2.html" download>box-model-2.html</a> in your text editor and browser. Play around with the padding, border and margin of each box and see how it can affect their total dimensions.

#### Border-Box

This strange quirk is fixed quite easily, and interestingly enough was implemented in early versions of Internet Explorer.

By adding the following code to the top of your web page, we can make the padding and border not add to the overall size of our elements.

Basically it allows us to include padding and border in the element's total width and height.

```css
* {
    box-sizing: border-box;
}
```

The * character is a wildcard selector and selects everything on the page

When starting any project from now on, be sure to include that at the top of your CSS file.

## Two column layouts

A standard Web page layout is to have a header and a footer, and in between those, a content area with a sidebar next to it.

Open up <a href="https://hychalknotes.s3.amazonaws.com/twoColumnLayouts.html" class="exercise" download>**twoColumnLayouts.html**</a> to follow along.
 
In our example, we have our four main elements. Header, Section, Aside and Footer. As well, we'll have a surrounding element with a class of wrapper that contains our elements and centers them.

```html
<div class="wrapper">
    <header>
        <h1>Welcome To HackerYou</h1>
    </header>
    <section>
        <h2>This is an article</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Magni, exercitationem quasi saepe corporis, necessitatibus similique, fugiat tenetur soluta sunt, odio sed nobis impedit.</p>
    </section>
    <aside>
        <ul>
            <li>Item 1</li>
            <li>Item 2</li>
            <li>Item 3</li>
        </ul>
    </aside>
    <footer>
        <p>Copyright 2018</p>
    </footer>
</div>
```
By default, our elements are 100% wide, so we don't need to apply any widths or floats to our header or footer. However, we do need to float our section and aside to have them next to each other. As well, the elements should have widths applied that add up to a sum of 100%.

```css
section {
    float: left;
    width: 60%;
}

aside {
    float: left;
    width: 40%;
}
```

Great, the `section` and `aside` are next to each other, but our footer has jumped up, as well, the wrapper element has collapsed.

![width move](https://hychalknotes.s3.amazonaws.com/floatCollapse.png)

While it seems strange that these events occurred, there are some well-known fixes that we can implement.

### Collapse of surrounding element
Floats were designed to float images within blocks of text that were meant to wrap around and continue down the page. In the case of this layout though, we don't have continued content to size accordingly, so the wrapper sizes to the next element that isn't floated. In this case, the footer.

## overflow:hidden

One of the fixes to the element collapse, is commonly known as a hack and not recommended. While effective, it can lead to other problems.

By providing `overflow:hidden` on the `.wrapper`, the element will resize.

```css
.wrapper {
    overflow:hidden;
}
```

This property however will cut off any text that is too large to fit in our container, not viable for future development.

## Clearfix

Using what is known as a clearfix is recommended as the industry standard method of solving this problem. Along with the `border-box` fix, it's recommended to include the following code at the **top** of all our styles moving forward.

```css
.clearfix:after {
  visibility: hidden;
  display: block;
  font-size: 0;
  content: " ";
  clear: both;
  height: 0;
} 
```

The code above is using some advanced properties, but it is extremely effective in fixing the collapse problem in a non-invasive way.

_The class name of 'clearfix' is a industry standard, but it can be named whatever you'd like._ 

Again, include this code at the top of your stylesheet with Normalize and border-box, as it acts as a utility class for your layout. **Whenever** you are floating an element, apply a class of `clearfix` to the **parent** element.

```html
<section>
	<div class="wrapper clearfix">
		<div class="half">
			<p>The div that contains this paragraph is floated left</p>
		</div>
		<div class="half">
			<p>The div that contains this paragraph is also floated left</p>
		</div>
	</div>
</section>
```

## Clear:both

### Following elements are broken

When using floats, we can fix the elements that pop up after our floated elements.

#### Using `clear:both`

The required fix for this issue, is to essentially 'stop the floating'. Using a property called `clear:both` on the **following, sibling element** will _stop_ the floating layout and return them to their own block element state.

```css
footer {
  clear: both;
}
```

## Normalize

An important tool that web designers and developers have in their tool belt is something called a CSS Normalize or a CSS Reset.

We use CSS Normalize because not all browsers start on the same playing field. All browsers come with style defaults, such as making all `h1`-`h6` elements escalate in size and adding padding and margins to various elements. Though you may want to keep the default styles, they aren't consistent across all the browsers. This can lead to problems down the road because we want our websites to look fairly consistent in all the browsers!

CSS Normalize fixes this. It's a chunk of CSS code that we can either insert into the top of our CSS or add it as a separate stylesheet in the `<head>` of our HTML document.

**Note:** If you add it as a separate stylesheet, it should be included *before* your custom stylesheet.

Normalize does exactly what it says - **normalize the default styling of all elements across all browsers**.

You can download Normalize.css at <a href="http://necolas.github.com/normalize.css/" target="_blank">http://necolas.github.com/normalize.css/</a>, or <a href="https://hychalknotes.s3.amazonaws.com/normalize-v700.css" download>find it here</a>. We won't be using it in our examples for now, but any public facing sites (including our final project) should include it.

## Gallery Layouts & Extra Practice

Not all layouts are the same, but taking a moment to identify the structure and think about how to fix the problem can make the development process painless.

### Code Along
Let's code along together to start. Open up <a href="https://hychalknotes.s3.amazonaws.com/grid-practice.html" class="exercise" download>**grid-practice.html**</a> in your text editor and in the browser. If you get stuck, check out <a href="https://hychalknotes.s3.amazonaws.com/grid-practiceANSWER.html" class="exercise" download>grid-practiceANSWER.html</a>.
Next, let's create a more complex layout in <a href="https://hychalknotes.s3.amazonaws.com/clear-both.zip" class="exercise" download>**clear-both.zip**</a>.


### Now, You Try!
Open up **<a href="https://hychalknotes.s3.amazonaws.com/gallery-layout.zip" download>gallery-layout.zip</a>** and let's work through an example of how to create a gallery style layout using floats. **Note** this exercise contains a gotcha! (Hint: image sizes are different!). 

If you finish the gallery exercise early, let's try revisiting the two column layout! Can you create it on your own? Download **<a href="https://hychalknotes.s3.amazonaws.com/advanced-two-column.zip" download>advanced-two-column.zip</a>** and follow the instructions in the comments.

For extra practice, work on <a href="https://hychalknotes.s3.amazonaws.com/structural-elements.html" class="exercise" download>**structural-elements.html**</a> and follow the instructions in the comments! If you get stuck <a href="https://hychalknotes.s3.amazonaws.com/structural-elementsANSWER.html" class="exercise" download>check out the answer here</a>.