## Image Formats

There are several file types used for adding images to a web page. Each type is best suited for specific kinds of images. As a rule of thumb, use the format that maintains the best quality while reducing the file size.

First, a quick look at two types of compression:   

* **Lossless:** the image is made smaller with no loss to the quality. The image can be saved over and over without losing any data.
* **Lossy:** the image is made (even) smaller, but loses some of the quality. When saving an image in a lossy format repeatedly, the image quality would get progressively worse.

## GIF

A GIF (Graphics Interchange Format) uses **lossy** compression and usually has the smallest file size of all the different formats.  However, it can only take a maximum of 256 different colours so it is best used for images with minimal colour variation. Introduced in 1987, it is one of the oldest image file types.

GIF images can also have transparency (though transparency is better handled with PNGs). And of course, they can also be animated!

<iframe src="https://giphy.com/embed/n0WvhHFTpihk4" width="500" height="285" frameBorder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>

**Best used for**: images with simple colours, line drawings, icons and animations - mostly replaced by jpgs and svgs.

## JPEG

JPEG images use **lossy** compression. It can support lots of rich colours and gradients making it optimal for photographic images. It was created in 1992 by the Joint Photographic Experts Group.

However, the lossy compression makes it less favourable for images with flat colours and line drawings and may look fuzzy.  JPEGs generally have larger file-sizes than GIFs.

Typically, images online are in JPEG format. We recommend using them for background images.

**Best used for**: photographs and images with lots of rich colours and gradients.

## PNG

There are two types of PNG formats, PNG-8 and PNG-24. They both use **lossless** compression.  The PNG file format was created in 1995 to replace GIF's.

#### PNG-8
PNG-8 is short for *8-bit PNG* meaning the image is 8 bits per pixel. Similar to GIFs, it can only store 256 colours and supports transparency but it has better support for *alpha* transparency than GIFs.

![png-8 vs gif](http://i.stack.imgur.com/B09oZ.png)

However, PNGs do not support animation so stick to GIFs for that.

**Best used for**: Images with simple colours including those that require alpha transparency.


#### PNG-24

PNG-24 is short for *24-bit PNG* so it can hold a lot more colours than PNG-8. Just like PNG-8, PNG-24 supports alpha-transparency, too.

However, PNG-24 files are usually much bigger than JPEGs, GIFs and PNG-8s. Even though PNG-24s can handle a lot more colours, they are not meant to replace JPEGs. 

**Best used for:** Images with rich colours, gradients and shadows, that all require transparency, alpha transparency or opaque background.


## SVG

SVG (scalable vector graphics) is a vector graphic based on an XML format but you can use SVG in the same way as other image types (in an image tag). SVGs generally have small file sizes and scales without losing clarity. It also looks great on retina displays.

Because it's based on XML, it can also be added inline, into the HTML document. When included inline, CSS and JavaScript can be applied to it! 

Note that SVGs are not supported in IE8 and below.

**Best used for:** 2D shapes and icons (ex. cartoon graphics or illustrations) and animations. Not good for photos.

#### Using SVGs inline

SVGs consist of circles, rectangles, and paths created in XML and combined into drawings on web pages rather than a bitmap, like other image types. Because of this, you can apply colours, gradients and filters to SVGs (though not all browsers support all filter types). 

Inline SVGs also removes unnecessary HTTP requests. When defining images in an `<img>` tag, you are defining a file that the browser will *request*. This request will take up bandwidth and require time to download. SVGs embedded inline cuts the extra HTTP request out, making your website faster.

However, screen reader support is poor which can create a challenge for sites that use SVG where accessibility is a requirement. <a href="http://schepers.cc/authoring-accessible-svg" target="_blank">More on SVG and accessibility here</a>.

#### Finding / Creating SVGs

SVGs can be created using vector graphics software such as Adobe Illustrator or <a href="https://www.sketchapp.com/" target="_blank">Sketch</a>. There are also online resources such as <a href="http://thenounproject.com/" target="_blank">The Noun Project</a> that has a wide variety of icons available for download.

But once we've found the perfect image to use, where do we actually get the SVG code?  We can simply open the SVG file in our text editor and there's the code.

#### SVG and CSS
Styling SVG with CSS is the same as for other HTML elements. However, there are CSS properties that are specific for SVG. For example, instead of using `background` or `background-color`, use `fill` to change the colour of the icon. To create a border, use the `stroke` property. 

See the <a href="http://www.w3.org/TR/SVG/propidx.html" target="_blank">full list of SVG properties</a>.

#### Exercise

Download <a href="https://hychalknotes.s3.amazonaws.com/inline-svg.zip" class="exercise" download>inline-svg.zip</a> and open it in your editor. Let's try adding images using the `<img>` tag and inline (there's a few to choose from in the **images** folder) and some CSS!

#### The `<svg>` element
You can also create SVGs without an image editor using SVG specific tags starting with the `<svg>` element. Note, the inclusion of the two namespace declarations so the browser will read this fragment as an SVG element rather than an XML file.

```html
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<svg>
```

#### Basic shape elements
SVG contains the following set of basic shape elements:

* rectangles `<rect>`
* circles `<circle>`
* ellipses `<ellipse>`
* straight lines `<line>`
* polylines `<polyline>`
* polygons `<polygon>`

Each element also has different attributes used to define various styles of the shapes.

** Example **

```html
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <rect x="10" y="30" height="100" width="100" style="stroke:#006600; fill: #cc0066;"/>
        <circle class="circle" cx="200" cy="80" r="30" />
        <line x1="300" y1="30" x2="300" y2="135"/>
    </svg>
```

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="150" width="400">
        <rect x="10" y="30" height="100" width="100" style="stroke:#006600; fill: #cc0066;"/>
        <circle class="circle" cx="200" cy="80" r="30" />
        <line x1="300" y1="30" x2="300" y2="135"/>
    </svg>

The `x` and `y` attributes are used to determine the location of the rectangle, relative to the parent element's location. The `width` and `height` attributes determine the size of the rectangle. The style attribute can also be used to set inline CSS.

The location of the circle is determined by `cx` and `cy` and has a radius of `r`.

#### The `<path>` element

This element is used to draw advanced shapes combined with lines, arcs, curves etc. with or without fill. 

#### The `<g>` element
This element is used to group SVG shapes together. This group can then be treated as a single shape.

### Exercise
Download <a href="https://hychalknotes.s3.amazonaws.com/svg-tags.html" class="exercise" download>svg-tags.html</a> and use the <a href="http://tutorials.jenkov.com/svg/index.html" target="_blank">tutorials listed here</a> to experiment with shapes, transformations, gradients, etc. There are a few examples already included in the exercise file.

### More SVG Resources
* <a href="http://css-tricks.com/using-svg/" target="_blank">Using SVG</a>
* <a href="http://www.hongkiat.com/blog/scalable-vector-graphic-css-styling/" target="_blank">Styling Scalable Vector Graphic (SVG) With CSS</a>
* <a href="http://joshuasortino.com/journal/creating-a-responsive-svg" target="_blank">How to Create a Responsive SVG</a>
* <a href="http://www.w3.org/TR/SVG11/expanded-toc.html" target="_blank">W3C SVG documentation</a>

## Image Formats: TL;DR

![Concise, graphic explanation of image formats](https://hychalknotes.s3.amazonaws.com/image-information-grid.png)

## The Picture Element

Introduced by a group called the [Responsive Images Community Group](https://responsiveimages.org/), the `<picture>` element was designed to allow developers the ability to art direct their pages!

The idea is this, you have an element that inside of it defines many different sources, these sources have breakpoints that will load specific images at specific times.

This prevents wasted bandwidth if you have a really large image for desktop, but need a smaller one for mobile. And the most important thing about the `<picture>` element is that it allows you to load different versions of the image for different screen sizes.

## Syntax

```html
<picture>
    <source srcset="imgs/large.png" media="(min-width: 980px)">
    <source srcset="imgs/medium.png" media="(min-width: 600px)">
    <img src="imgs/small.png" alt="">
</picture>
```

The `<picture>` element uses `<source>` elements inside of it to determine the images that should be loaded, we use the `media` attribute to define when they should be used. This takes a condition just like our `@media` blocks in CSS.

You can even use an `<img>`  tag as a fall back for any conditions that are not met, or if the browser does not support the `<picture>` element.

Let's try a few together to see it in action!

## Image Optimization

It's important to use the proper image format, and optimize images properly. There are many factors to consider when utilizing images on your projects.

* Use the appropriate file type based on the type of image being used.
* Images should always be resized to the appropriate dimensions before using them in a web page.
* When saving images using an image editor such as Photoshop, use the **save for web** option.
* Try to keep your image file sizes as small as possible and up to 400KB at an absolute maximum.

Here are some handy tools:

* <a href="https://kraken.io/" target="_blank">Kraken</a>
* <a href="http://pixlr.com/" target="_blank">Pixlr</a>
* <a href="http://imageoptim.com/" target="_blank">Image Optim</a>
* <a href="http://petercollingridge.appspot.com/svg-optimiser" target="_blank">SVG Optimiser</a>

Extra readings:

* <a href="http://johnkuefler.com/how-to-optimize-images-for-the-web/" target="_blank">How to optimize images for the web</a>
* <a href="http://www.shopify.ca/blog/7412852-10-must-know-image-optimization-tips" target="_blank">10 Must Know Image Optimization Tips</a>




