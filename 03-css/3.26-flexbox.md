# Flexbox

By now, we're comfortable achieving layout through widths and floats and working with pixels and percentages for sizing. However, using floats for layouts can produce really difficult challenges: things like vertical centering require relatively many lines of (kinda hacky) code.

Enter ðŸ™Œ_flexbox_ðŸ™Œ. Flexbox solves many float layout issues elegantly.

As of today, [the browser support for Flexbox](http://caniuse.com/#search=flex) is great! However, there will be issues with older versions of IE, and we should use vendor prefixes to support older versions of Chrome, Safari, and Firefox. For the examples throughout this lesson, we'll use vendor prefixes for IE.

MDN has helpfully created [a set of mixins which include vendor prefixes for all flexbox properties](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Mixins).

If you are working on a project that requires support for older devices and browsers, be aware that there are **no fallbacks** and the layouts will simply break, so be careful!

## Using flexbox
Create a new HTML file and include the following styles and markup:

```css
/* CSS */
.flexContainer {
  border: #333 solid 2px;
}

.flexItem {
  width: 50px;
  height: 50px;
  background: #D12026;
  border: #333 solid 1px;
  margin: 5px;
  text-align: center;
  color:white;
}

.flexItem:first-child {
  background: #26A6C9;
}
.flexItem:last-child{
  background-color: #673AB7;
}
```

```html
<!-- HTML -->
<div class="flexContainer">
    <div class="flexItem">
      <span>1</span>
    </div>
    <div class="flexItem">
      <span>2</span>
    </div>
    <div class="flexItem">
      <span>3</span>
    </div>
    <div class="flexItem">
      <span>4</span>
    </div>
    <div class="flexItem">
      <span>5</span>
    </div>
    <div class="flexItem">
      <span>6</span>
      </div>
    <div class="flexItem">
      <span>7</span>
    </div>
</div>
```
### `display:flex;`
In order to use flexbox in a layout, we must have the elements we want to lay out inside their own container. We will apply a `display:flex;` property to this container element. 

```css
.flexContainer {
	display: flex;
}
```

### `flex-direction`
You know how when we say `position:absolute;` on an element, we unlock the ability to use the `top`, `right`, `bottom` and `left` properties? Something similar happens when we set a container to `display:flex;`. We now have access to a bunch of properties that will describe how the content inside the container behaves.

The default behavior of all child elements of a parent that is `display:flex;` is for them to flow next to each other.

Child elements are positioned along a main axis. We can choose this axis using the `flex-direction` property. When we choose a main axis, we call the other axis becomes _the secondary axis_.

For the next four examples, the first child element in the page will have a different background colour.

### `flex-direction:row;`
Setting the flex-direction to `row` will make the X axis (horizontal) the main axis. Your content will flow **left to right**.

![FlexDirectionRow](http://fulltime.hackeryou.com/assets/flexbox/flexDirectionRow.jpg)

(This is the default.)

### `flex-direction:row-reverse;`
Setting the flex-direction to `row-reverse` will make the X axis the main axis. Your content will flow **right to left**.

![FlexDirectionRowReverse](http://fulltime.hackeryou.com/assets/flexbox/flexDirectionRowReverse.jpg)

### `flex-direction:column;`
Setting the flex-direction to `column` will make the Y axis the main axis. Your content will flow **top to bottom**.

![FlexDirectionColumn](http://fulltime.hackeryou.com/assets/flexbox/flexDirectionColumn.jpg)

### `flex-direction:column-reverse;`
Setting the flex-direction to `column` will make the Y axis the main axis. Your content will flow **bottom to top**.

![FlexDirectionColumnReverse](http://fulltime.hackeryou.com/assets/flexbox/flexDirectionColumnReverse.jpg)

### Arranging content within a flexed container

How content is positioned is defined by the main axis.

`justify-content` is used to align the contents along the **main axis**.

`align-items` defines how content is aligned along the secondary axis. The default is `stretch`, which means that a column will take up the full width of its parent.

With both properties, `flex-start` and `flex-end` can be used to position accordingly. 

### `justify-content: flex-start`

```css
.flexContainer {
	display: flex;
	flex-direction: row;
	justify-content: flex-start;
}
```

<div class="flexContainerRow flexJustifyStart">
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
</div>

### justify-content: flex-end

```css
.flexContainer {
	display: flex;
	flex-direction: row;
	justify-content: flex-end;
}	
```

<div class="flexContainerRow flexJustifyEnd">
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
</div>

### `align-items: flex-start`

```css
.flexContainer {
	display: flex;
	flex-direction: row;
	align-items: flex-start;
}	
```

<div class="flexContainerRow flexAlignStart">
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
</div>

### `align-items: flex-end`

```css
.flexContainer {
	display: flex;
	flex-direction: row;
	align-items: flex-end;
}	
```
<div class="flexContainerRow flexAlignEnd">
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
</div>

## Spacing content

### `justify-content: space-between;`

Provide equal space between each element. The first and last elements will go to the edges of the parent element.

```css
.flexContainer {
	display: flex;
	flex-direction: row;
	justify-content: space-between;
}	
```

<div class="flexContainerRow flexSpaceBetween">
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
</div>

### `justify-content: space-around;`

Provide equal space between each element. The first and last elements will have space around themselves and the edge of the parent element.

```css
.flexContainer {
	display: flex;
	flex-direction: row;
	justify-content: space-around;
}	
```

<div class="flexContainerRow flexSpaceAround">
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
</div>

## Combining the properties
`justify-content` and `align-items` can be used together as well to position elements where they are needed.

```css
.flexContainer {
	display: flex;
	flex-direction: row;
	justify-content: flex-end;
	align-items: flex-end;
}	
```

<div class="flexContainerRow flexAlignEnd flexJustifyEnd">
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
</div>

## Centering with flexbox

One of the many great benefits of Flexbox is that you can easily center content vertically and horizontally without any tricks or hacks.

Again, by using `justify-content` for main axis centering, and `align-items` for the alternate axis, we can pass in a value of `center`.

### `align-items: center;`
```css
.flexContainer {
	display: flex;
	flex-direction: column;
	align-items: center;
}	
```

<div class="flexContainerColumn flexAlignCenter">
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
</div>

#### `justify-content: center;`

```css
.flexContainer {
	display: flex;
	flex-direction: column;
	justify-content: center;
}	
```

<div class="flexContainerColumn flexJustifyCenter">
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
</div>

#### and...we can combine them to center vertically and horizontally!

```css
.flexContainer {
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
}	
```

<div class="flexContainerColumn flexJustifyCenter flexAlignCenter">
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
	<div class="flexItem"></div>
</div>

#### or.....

We can simply say `margin: auto` on the item to center automatically horizontally and vertically.

```css
.flexContainer {
	display: flex;
	flex-direction: row;
}	

.flexItem {
	margin: auto;
}
```

<div class="flexContainerRow">
	<div class="flexItem flexCenter"></div>
</div>

## Flex white space

When working with floats, we expect our elements to wrap to the next line when they don't fit in the parent space. This is not the case with flexbox.
When we have many elements inside of a parent container, they resize to fit the space.

Open up <a href="https://hychalknotes.s3.amazonaws.com/flexboxTwo.html" class="exercise" download>flexboxTwo.html</a> to follow along.

In order to fix this weirdness, we need to state that the elements will wrap to the next row or column (Depending on how we oriented our content).

**flex-direction: row**

```css
.flexContainer {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	width: 800px;
}	
```


**flex-direction: column**

```css
.flexContainer {
	display: flex;
	flex-direction: column;
	flex-wrap: wrap;
	height: 800px;
}	
```

### Removing white space

You'll notice in the above examples that there is a lot of white space all around the elements. Some of the other properties available to us with Flexbox allow us to define how the space between elements is treated.

Here's where it gets a bit wacky with the syntax. Where we used `justify-content` to align content along the main axis, and `align-items` along the perpendicular axis, we now have the ability to control the whitespace between inner items.

#### Space between

By setting the `align-content` value to `space-between`, we adjust the content so that the first line is at the start of the container, and the last line is at the end.

```css
.flexContainer {
	display: flex;
	flex-direction: column;
	flex-wrap: wrap;
	align-content: space-between;
	height: 800px;
}	
```

__Note:__
This property has no effect when there is only a single line of flex items. In that case, you should use `justify-content : space-between`.

### `space-around`

By setting the `align-content` value to `space-around`, the content is evenly spaced with equal space between each line.

```css
.flexContainer {
	display: flex;
	flex-direction: column;
	flex-wrap: wrap;
	align-content: space-around;
}	
```

__Note:__
This property has no effect when there is only a single line of flex items. In that case, you should use `justify-content : space-around`.

__Note:__
The `space-evenly` property is great! Although it works currently only in Firefox.
* <a href="https://www.bram.us/2017/07/18/justify-content-space-evenly-for-flexbox/" target="_blank">Flexbox space-evenly</a>

## `flex-start`

By setting the `align-content` value to `flex-start`, the content is packed to the start of the container along the main axis

```css
.flexContainer {
	display: flex;
	flex-direction: column;
	flex-wrap: wrap;
	align-content: flex-start;
}	
```

### `flex-end`

By setting the `align-content` value to `flex-end`, the content is packed to the end of the container along the main axis

```css
.flexContainer {
	display: flex;
	flex-direction: column;
	flex-wrap: wrap;
	align-content: flex-end;
}	
```

## Flexbox child

### Ordering

By default, flex items are laid out in the order they are entered through markup. By putting the order property on a specific element, we can reorder content by specifying an integer. By default, each element has a value of `0`.  Elements are laid out in the ascending order of the order value, so `-1` comes before `0`, and `0` comes before `1`, and so on. If two flex child elements have the same order, they will appear in the same order as they appear in the markup.

```css
.item2 {
	order: -1;
}
```

<div class="accessibility">
The order property only affects the visual order of elements and does not affect the actual markup. Be careful when using this property, as screenreaders will still read the order of elements as they appear in the markup.
</div>

<a href="https://developer.mozilla.org/en/docs/Web/CSS/order" target="_blank">Check out more about order here</a>

## `align-self`

By using the `align-self` property, we can overwrite the default alignment (or the one set by `align-items` on a element).

We can again, use the same values for `align-items`.

```css
.flexContainer {
	display: flex;
	flex-direction: row;
	align-items: center;
}	

.item2 {
	align-self: flex-end;
}
```

## `flex-shrink`, `flex-grow`, and `flex-basis`


The `flex` property, when applied to the child elements, defines the dimensions of the element and how they are sized in relation to each other.

The `flex` property is broken up into three values, that can be declared separately or together:

**flex-grow** A unitless value that determines how much the flex-item grows in relation to the others in the container.

```css
.item {
	flex-grow: 1;
}
```
Still confused? <a href="https://css-tricks.com/flex-grow-is-weird/" target="_blank">Here is a great article to help with understanding flex-grow</a>


`flex-shrink` determines how much an element will shrink in relation to the others. Best used when the size of the container changes. (Note: typically set to 0 to override the behaviour)

Visit the [documentation on MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/flex-shrink) for a detailed example.

```css
.item {
	flex-shrink: 0;
}
```

Great example <a href="https://hychalknotes.s3.amazonaws.com/flex-shrink-example.html" target="_blank">of a nav using flex-shrink</a>.

**Flex-Basis** The initial size of the element (width) before the `flex-grow` and `flex-shrink` properties take effect. Essentially the minimum size of the element to be used for layout.

A [great explanation](http://gedd.ski/post/the-difference-between-width-and-flex-basis/) for flex-basis is:

> Flex-basis is: the size of flex items before they are placed into a flex container. It's **the ideal or hypothetical size of the items**. But flex-basis is not a guaranteed size! As soon as the browser places the items into their flex container, things change.

```css
.item {
	flex-basis: 200px;
}
```

All three of the above values are best used within the shorthand `flex` rule.

```css
/* flex: <flex-grow> <flex-shrink> <flex-basis>; */

.item {
	flex: 1 0 auto;
}
```

Open up [flex.html](https://hychalknotes.s3.amazonaws.com/flex.html) to see how the flex property can be used to create a common website layout without floats.

## Flexbox code-along

Open up [flexboxCodealong.zip](https://hychalknotes.s3.amazonaws.com/flexboxCodealong.zip) to build an advanced layout. 

## Resources
Flexbox is a new, and verbose tool. Fortunately, there are lots of resources available to us.

* [Flexbox CheatSheet Visualized (PDF)](http://jonibologna.com/content/images/flexboxsheet.pdf)
* [Flexbox Reference (Codrops)](http://tympanus.net/codrops/css_reference/flexbox/)
* [Solved by Flexbox](http://philipwalton.github.io/solved-by-flexbox/)
* [Learn CSS Flexbox](http://learnlayout.com/flexbox.html)
* [CSS Tricks guide to Flexbox](https://css-tricks.com/snippets/css/a-guide-to-flexbox/)
* [What The Flexbox?!](https://flexbox.io/)
* [Flexbox Froggy](https://flexboxfroggy.com/), a flexbox game.
* [Flexbox Zombies](https://flexboxzombies.com/p/flexbox-zombies), another flexbox game!
