# Intro to React

React is a JavaScript library created by Facebook for building user interfaces and single page applications.

A _single page application_ (SPA) is a kind of website that loads a single HTML file and uses AJAX to update it without reloading the page. You've already built some SPAs: your API projects, for example!

The React library powers tons of websites on the internet, including [Facebook](http://www.facebook.com/), [Instagram](http://www.instagram.com) and [AirBnB](http://www.airbnb.com/).

## Installing the React devtools
Before we start writing any code, let's install the React devtools. This is an extension for your browser that will let us inspect our React applications alongside our normal developer tools.

[Click here to download the React Devtools for Chrome.](https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en)

[Click here to download the React Devtools for Firefox.](https://addons.mozilla.org/en-US/firefox/addon/react-devtools/)

Let's inspect those sites we were looking at before, and see what we find!

## Create React app
To build React projects, we will be using a tool build by React's developers called _Create React App_.

### Installing
We're going to install Create React App via `npm` (the _node package manager_) using the command line.

```bash
npm i -g create-react-app
```

With this installed we are able to quick start applications with the `create-react-app` command. Typing `create-react-app my-first-app` into your command line will create a folder called `my-first-app` and in there will be all the pieces needed to start building! It will also give you instructions on how to run your application.

### Build your first app with Create React App
The Create React App tool gives us everything we need to get started and it's important to know what some of the files do. In the project folder you will find a `src` folder, which will contain a bunch of files that Create React App made just for you! Let's look at a few of the important ones: `App.js` and `index.js`.

#### `index.js`

The `index.js` file contains all the information needed to render our React application to the page. 

```javascript
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import registerServiceWorker from './registerServiceWorker';

ReactDOM.render(<App />, document.getElementById('root'));
registerServiceWorker();
```

Notice that we import `react` and `react-dom` in this file. React DOM is a _module_ needed to render our application to the DOM. (There is a version of React that can be used server-side as well.)

After that, we import `index.css`. With the Create React App system, we import our CSS straight into the JavaScript. This allows the underlying system that runs Create React App to bundle up the JavaScript and CSS in the most effective way.

The `App` component is also imported and rendered to the page using `ReactDOM.render()`. This `App` component is the place where we will be writing most of our code.

Don't worry about `registerServiceWorker` - just know that you need it for now. [Keeners can click here.](https://stackoverflow.com/questions/47953732/what-does-registerserviceworker-do-in-react-js)

#### `App.js`

This file is the main component of our application; it's the file you'll be spending most of your time in.

```javascript
import React, { Component } from 'react';
import logo from './logo.svg';
import './App.css';

class App extends Component {
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <h1 className="App-title">Welcome to React</h1>
        </header>
        <p className="App-intro">
          To get started, edit <code>src/App.js</code> and save to reload.
        </p>
      </div>
    );
  }
}

export default App;

```

This file has three lines of imports: 
 * a couple of functions from `react` (don't worry too much about this right now)
 * an image from `./logo.svg` 
 * CSS for the `App` component

The `App` component is a `class` that extends the `Component` class from React. This class has a `render` method, and inside the render method we define the HTML we want to show on the page. But what looks like HTML there... is actually not HTML! Weird, right? It's something called _JSX_ (JavaScript XML) and we'll talk about it more later.

Enough talk! Let's get this app running and create our first component. In order to start everything, we need to use the `npm start` command on our command line. Make sure you are **inside** the folder Create React App made for you, then run `npm start`.

### What is a component?

A _component_ is a small reusable chunk of code that is usually responsible for rendering one piece of UI. A React application can contain hundreds of components that render each other, interact with each other, and compose the UI of your application. 

Let's make some of our own components. Start by creating a new file called `Header.js` in the `src` folder.

Header.js
```javascript
import React from 'react';

class Header extends React.Component {
  render() {
    return (
      <header>
        <h1>My header!!</h1>
      </header>
    )
  }
}

export default Header;
```

Go back to `App.js` and import our new component like this:

```javascript
import Header from './Header';
```

We can now use the `<Header />` component in the `App.js` file. 

```javascript
class App extends Component {
  render() {
    return (
      <div className="App">
        <Header />
        <p className="App-intro">
          To get started, edit <code>src/App.js</code> and save to reload.
        </p>
      </div>
    );
  }
}
```

Try making a new component called `Footer` and add it to the bottom of the `div` with a class of `App`.

### JSX 

JSX is a syntax that can be passed into React's `render` method and compiled into HTML elements. It looks a lot like HTML, but it has a few gotchas. 

Since it's actually JavaScript, and not HTML, you can't use certain attributes like `class` and `for` because they are reserved words. `class` becomes `className` and `for` becomes `htmlFor`

JSX elements are treated as JavaScript *expressions* - so they can be saved as variables, passed to functions, or stored in objects or arrays. 

Each JSX expression must have exactly one outermost element (we'll be using `<div>`  for most of the class)

In order to render your elements to the screen, the `ReactDOM` library (specifically it's `render` method) are used.

One other gotcha is what JavaScript you can put inside of JSX. Anything that is inside of the `{}` must be an expression. An expression is something that produces a value. For example `2 + 2` is an expression because it returns 4! Where this gets difficult to work with is you want to conditionally render something.

You will be tempted to want to put an if statement in your code, but an if statement is a STATEMENT not an expression.

```javascript
render() {
  return (
    <div>
      {if(somethingIsTrue) {
        <h1></h1>...
      }}
    </div>
  )
}
```

In order to get around this, we need to use something like a ternary operator. 

```javascript
render() {
  return (
    <div>
     {soemthingIsTrue ? <h1>Something</h1> : null}
    </div>
  )
}
```

This can get complex pretty fast, so it is also common to use functions or variables outside of the return to accomplish this.

```javascript
render() {
  let markup = null;
  if(somethingIsTrue) {
    markup = <h1></h1>;
  }
  return (
    <div>
     {markup}
    </div>
  )
}
```


### Nesting and splitting components
One of the incredibly powerful features of React is the ability to organize and split your code into components and then 'compose' them together. 

For example, let's say we wanted to create a search bar component for our application.

We'd create a new `SearchBar` component above your `App` component:
```javascript
class SearchBar extends React.Component {
	render() {
		return (
			<input type="text" placeholder="Enter your search term" name="" />
		)
	}
}
class App extends React.Component { 
  // All that App stuff
}
```

And then you can nest it within your `App` component like so:

```javascript
class App extends React.Component {
	render() {
		return (
      <div className="App">
        <Header />
		    <SearchBar />
        <p className="App-intro">
          To get started, edit <code>src/App.js</code> and save to reload.
        </p>
      </div>
		)
	}
}
```

Your `SearchBar` component should now appear inside your `App` component in the browser!

What's really great about mixing and matching components this way is that it allows for a ton of code re-use. If we want the same `SearchBar` to appear in ten different places on the website, we don't have to rewrite the code for it ten times - we just have to insert the `<SearchBar />` component anywhere we need it!

Also - you'll notice that when we write out the `<SearchBar />` component that we include a `/` at the end. This is because our React elements are always **self-closing elements**. Just like in HTML and JSX, any time we create a component that doesn't have any children, we let React know by adding a `/`.

#### Component kitchen - cook 'em up!
Practice making a few new components of your own choosing and nesting them inside your `<App>` component. They can do whatever you want - this is just to practice and get used to the class component syntax.

### Sass and Create React App
In order to use Sass when working with Create React App, we need to add a few things.  You can find a write up of this in [the documentation for Create React App](https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/template/README.md#adding-a-css-preprocessor-sass-less-etc). 

To use Sass, we'll need to install two packages:
* `node-sass-chokidar` (to compile our Sass)
* `npm-run-all` (to run our development server)

```bash
npm install --save node-sass-chokidar npm-run-all
```
  _Chokidar_ is a Hindi-dervied English word that means `private watchperson` or `gate security person`. The Sass chokidar is watching your Sass files for changes! 

Now that both of those are installed, we need to change the `package.json` file to be able to use the,. Our `scripts` section should now look like this:

```json
  "scripts": {
    "build-css": "node-sass-chokidar src/ -o src/",
    "watch-css": "npm run build-css && node-sass-chokidar src/ -o src/ --watch --recursive",
    "start-js": "react-scripts start",
    "start": "npm-run-all -p watch-css start-js",
    "build-js": "react-scripts build",
    "build": "npm-run-all build-css build-js",
    "test": "react-scripts test --env=jsdom",
    "eject": "react-scripts eject"
  }
```
Now, when we use the `npm start` command, the `npm-run-all` package will set up our local server and watch our JS and our chokidar will watch our Sass files.

### Additional Resources
* [React for Beginners](https://reactforbeginners.com/) (taught by HackerYou instructor Wes Bos!)
* [Learning React: Getting Started and Concepts](https://scotch.io/tutorials/learning-react-getting-started-and-concepts)
* [Hello World in React](http://codepen.io/gaearon/pen/ZpvBNJ?editors=0010) (a CodePen you can play around with)